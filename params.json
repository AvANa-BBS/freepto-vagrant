{"name":"Freepto-vagrant","tagline":"Freepto Vagrantfile","body":"Freepto-vagrant\r\n===============\r\n\r\nEasy way for create a Freepto development environment\r\n\r\n\r\n## Usage\r\n\r\n#### Vagrant setup:\r\n\r\nInstall Vagrant 1.6.2:\r\n\r\n*  http://www.vagrantup.com/\r\n*  http://dev.freepto.mx/vagrant/utils/\r\n\r\n<code>$ sudo apt-get install git virtualbox</code>\r\n\r\n<code>$ git clone https://github.com/vinc3nt/freepto-vagrant.git</code>\r\n\r\n<code>$ cd freepto-vagrant</code>\r\n\r\n<code>$ vagrant up vbox --provider=virtualbox</code>\r\n\r\n<code>$ vagrant ssh vbox</code>\r\n\r\n\r\n#### Build Freepto:\r\n\r\n<code>$ sudo vim /etc/freeptobuild.cfg</code>\r\n\r\n<code>$ sudo freeptobuild /home/vagrant/freepto-lb</code>\r\n\r\n\r\n#### Build from another repository:\r\n\r\n<code>$ git clone https://github.com/vinc3nt/freepto-lb.git freepto-lb_vinc3nt</code>\r\n\r\n<code>$ sudo freeptobuild /home/vagrant/freepto-lb_vinc3nt</code>\r\n\r\n#### Build with a diffrent localization:\r\n\r\nThe default localization is italian, but is possible configure a different localization:\r\n\r\n<code>$ sudo freeptobuild /home/vagrant/freepto-lb en_GB.UTF-8 Europe/London en</code>\r\n\r\n#### Add libvirt support:\r\n\r\nInstall KVM, qemu and libvirt:\r\n\r\n*  https://wiki.debian.org/KVM\r\n*  https://wiki.debian.org/QEMU\r\n*  https://wiki.debian.org/libvirt\r\n\r\n<code>$ sudo apt-get install libxslt-dev libxml2-dev libvirt-dev</code>\r\n\r\n<code>$ vagrant plugin install vagrant-libvirt</code>\r\n\r\nCurrently vagrant-libvirt support rsync as a default method for shared folder sync.\r\nHowever, with rsync is possible only an uni-directional sync (physical host -> virtual machine).\r\nIn order to provide a bi-directional sync, the shared folder will be mounted with NFS.\r\n\r\nUnfortunately, some additional configurations are needed:\r\n\r\n<code>$ sudo apt-get install nfs-kernel-server nfs-common portmap</code>\r\n\r\n<code>$ sudo service nfs-common start</code>\r\n\r\n<code>$ sudo service nfs-kernel-server start</code>\r\n\r\n<code>$ sudo service rpcbind start</code>\r\n\r\n<code>$ vagrant up kvm --provider=libvirt</code>\r\n\r\n<code>$ vagrant ssh kvm</code>\r\n\r\n## Creating a new custom virtualbox image\r\n\r\nA box for VirtualBox is already available from http://dev.freepto.mx/vagrant/ but if you want create a custom VirtualBox image, you should follow these steps:\r\n\r\n1. Install packer: \r\n\r\n*  http://www.packer.io\r\n\r\n2. Customize provisioning scripts\r\n\r\n3. Build a new freepto-vbox.box\r\n\r\n<code>$ cd packer</code>\r\n\r\n<code>$ packer build --only=freepto-vbox freepto.json</code>\r\n\r\n<code>$ vagrant box add builds/virtualbox/freepto-vbox.box --name freepto --force</code>\r\n\r\n## Creating a new custom libvirt image\r\n\r\nA box for libvirt is already available from http://dev.freepto.mx/vagrant/ but if you want create a custom libvirt image, you should follow these steps:\r\n\r\n<code>$ cd packer</code>\r\n\r\n<code>$ packer build --only=freepto-libvirt freepto.json</code>\r\n\r\n<code>$ ./raw2box.sh</code>\r\n\r\n<code>$ vagrant box add builds/libvirt/freepto-libvirt.box --name freepto --force</code>\r\n\r\n## Update an existing vagrant box\r\n\r\n<code>$ vagrant box list</code>\r\n\r\n<code>$ vagrant box repackage --output freepto-${boxname}.box ${boxname}</code>\r\n\r\n\r\n## NOTE:\r\n\r\nTested with the following software relases:\r\n\r\n<code>$ vboxmanage --version</code>\r\n\r\n4.3.10_Debianr93012\r\n\r\n<code>$ vagrant -v</code>\r\n\r\nVagrant 1.6.2\r\n\r\n<code>$ vagrant plugin list | grep vagrant-libvirt</code>\r\n\r\nvagrant-libvirt (0.0.16)\r\n\r\n<code>$ cat /etc/debian_version</code>\r\n\r\njessie/sid\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}